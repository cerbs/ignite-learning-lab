{
	"info": {
		"_postman_id": "a5866f70-a9a3-a750-ce3c-0b388e29e2fe",
		"name": "Code Learning Lab - Writing Data With FHIR",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Patient Registration (R4)",
			"item": [
				{
					"name": "1. Create a patient",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/fhir+json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"resourceType\": \"Patient\",\n\t\"identifier\": [\n\t\t{\n\t\t\t\"assigner\": {\n\t\t\t\t\"reference\": \"Organization/619848\"\n\t\t\t}\n\t\t}\n\t],\n\t\"name\": [\n\t\t{\n\t\t\t\"use\": \"official\",\n\t\t\t\"family\": \"CLLTutorial\",\n\t\t\t\"given\": [\n\t\t\t\t\"{{patientFirstName}}\"\n\t\t\t]\n\t\t}\n\t],\n\t\"address\": [\n\t\t{\n\t\t\t\"use\": \"home\",\n\t\t\t\"line\": [\n\t\t\t\t\"1234 Main St\"\n\t\t\t],\n\t\t\t\"city\": \"Kansas City\",\n\t\t\t\"state\": \"MI\"\n\t\t}\n\t]\n}"
						},
						"url": {
							"raw": "https://fhir-ehr.sandboxcerner.com/r4/0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca/Patient",
							"protocol": "https",
							"host": [
								"fhir-ehr",
								"sandboxcerner",
								"com"
							],
							"path": [
								"r4",
								"0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca",
								"Patient"
							]
						},
						"description": "Create a new patient in Millennium"
					},
					"response": []
				},
				{
					"name": "2. Retrieve the patient",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/fhir+json",
								"type": "text"
							}
						],
						"url": {
							"raw": "https://fhir-ehr.sandboxcerner.com/r4/0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca/Patient/{{patientId}}",
							"protocol": "https",
							"host": [
								"fhir-ehr",
								"sandboxcerner",
								"com"
							],
							"path": [
								"r4",
								"0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca",
								"Patient",
								"{{patientId}}"
							]
						},
						"description": "Create a new patient in Millennium"
					},
					"response": []
				},
				{
					"name": "3. Fix home address",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json-patch+json"
							},
							{
								"key": "If-Match",
								"type": "text",
								"value": "{{patientVersion}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\n\t{\n\t\t\"path\": \"/address/0/state\",\n\t\t\"op\": \"replace\",\n\t\t\"value\": \"MO\"\n\t},\n\t{\n\t\t\"path\": \"/address/0/id\",\n\t\t\"op\": \"test\",\n\t\t\"value\": \"{{patientAddressId}}\"\n\t}\n]"
						},
						"url": {
							"raw": "https://fhir-ehr.sandboxcerner.com/r4/0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca/Patient/{{patientId}}",
							"protocol": "https",
							"host": [
								"fhir-ehr",
								"sandboxcerner",
								"com"
							],
							"path": [
								"r4",
								"0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca",
								"Patient",
								"{{patientId}}"
							]
						},
						"description": "Update the patient's home address"
					},
					"response": []
				},
				{
					"name": "4. Add an identifier",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json-patch+json"
							},
							{
								"key": "If-Match",
								"value": "{{patientVersion}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\n\t{\n\t\t\"path\": \"/identifier/-\",\n\t\t\"op\": \"add\",\n\t\t\"value\": {\n\t\t\t\"type\": {\n\t\t\t\t\"coding\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"code\": \"MR\",\n\t\t\t\t\t\t\"system\": \"http://hl7.org/fhir/v2/0203\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"system\": \"urn:oid:1.1.1.1.1.1\",\n\t\t\t\"value\": \"{{newPatientMRN}}\"\n\t\t}\n\t}\n]"
						},
						"url": {
							"raw": "https://fhir-ehr.sandboxcerner.com/r4/0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca/Patient/{{patientId}}",
							"protocol": "https",
							"host": [
								"fhir-ehr",
								"sandboxcerner",
								"com"
							],
							"path": [
								"r4",
								"0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca",
								"Patient",
								"{{patientId}}"
							]
						},
						"description": "Create a new patient in Millennium"
					},
					"response": []
				},
				{
					"name": "5. Find patient by identifier",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/fhir+json",
								"type": "text"
							}
						],
						"url": {
							"raw": "https://fhir-ehr.sandboxcerner.com/r4/0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca/Patient?identifier=urn:oid:1.1.1.1.1.1|{{newPatientMRN}}",
							"protocol": "https",
							"host": [
								"fhir-ehr",
								"sandboxcerner",
								"com"
							],
							"path": [
								"r4",
								"0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca",
								"Patient"
							],
							"query": [
								{
									"key": "identifier",
									"value": "urn:oid:1.1.1.1.1.1|{{newPatientMRN}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "6. Create an encounter",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/fhir+json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"resourceType\": \"Encounter\",\n\t\"status\": \"in-progress\",\n\t\"type\": [\n\t\t{\n\t\t\t\"coding\": [\n\t\t\t\t{\n\t\t\t\t\t\"system\": \"http://terminology.hl7.org/CodeSystem/v2-0004\",\n        \t\t\t\"code\": \"O\"\n    \t\t\t}\n\t\t\t]\n\t\t}\n\t],\n\t\"subject\": {\n\t\t\"reference\": \"Patient/{{patientId}}\"\n\t},\n    \"location\": [\n    {\n      \"location\": {\n        \"reference\": \"Location/4048128\"\n      }\n    }\n  ]\n}"
						},
						"url": {
							"raw": "https://fhir-ehr.sandboxcerner.com/r4/0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca/Encounter",
							"protocol": "https",
							"host": [
								"fhir-ehr",
								"sandboxcerner",
								"com"
							],
							"path": [
								"r4",
								"0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca",
								"Encounter"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "AllergyIntolerance (DSTU2)",
			"item": [
				{
					"name": "1. Allergy - Create a new Allergy",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Accept",
								"value": "application/json+fhir"
							},
							{
								"key": "Content-Type",
								"value": "application/json+fhir"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "  {\n    \"resourceType\": \"AllergyIntolerance\",\n    \"category\": \"medication\",\n    \"criticality\": \"CRITL\",\n    \"recordedDate\": \"2017-02-28T15:03:00-06:00\",\n    \"status\": \"active\",\n    \"type\": \"allergy\",\n    \"onset\": \"2015-12-15T00:00:00Z\",\n    \"patient\": {\n      \"reference\": \"Patient/{{patientId}}\"\n    },\n    \"reporter\": {\n      \"reference\": \"Patient/{{patientId}}\"\n    },\n    \"recorder\": {\n      \"reference\": \"Practitioner/4980007\"\n    },\n    \"reaction\": [\n      {\n        \"manifestation\": [\n          {\n            \"text\": \"Hives\"\n          }\n        ]\n      }\n    ],\n    \"substance\": {\n      \"coding\": [\n        {\n          \"system\": \"http://www.nlm.nih.gov/research/umls/rxnorm\",\n          \"code\": \"3498\"\n        }\n      ]\n    }\n  }"
						},
						"url": {
							"raw": "https://fhir-ehr.sandboxcerner.com/dstu2/0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca/AllergyIntolerance",
							"protocol": "https",
							"host": [
								"fhir-ehr",
								"sandboxcerner",
								"com"
							],
							"path": [
								"dstu2",
								"0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca",
								"AllergyIntolerance"
							]
						}
					},
					"response": []
				},
				{
					"name": "2. Allergy - Get an Allergy",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Accept",
								"value": "application/json+fhir"
							}
						],
						"url": {
							"raw": "https://fhir-ehr.sandboxcerner.com/dstu2/0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca/AllergyIntolerance/{{allergyId}}",
							"protocol": "https",
							"host": [
								"fhir-ehr",
								"sandboxcerner",
								"com"
							],
							"path": [
								"dstu2",
								"0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca",
								"AllergyIntolerance",
								"{{allergyId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "3. Allergy - Update the criticality",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Accept",
								"value": "application/json+fhir"
							},
							{
								"key": "Content-Type",
								"value": "application/json+fhir"
							},
							{
								"key": "If-Match",
								"value": "W/\"<meta.versionId>\""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"resourceType\": \"AllergyIntolerance\",\n    ...\n}"
						},
						"url": {
							"raw": "https://fhir-ehr.sandboxcerner.com/dstu2/0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca/AllergyIntolerance/{{allergyId}}",
							"protocol": "https",
							"host": [
								"fhir-ehr",
								"sandboxcerner",
								"com"
							],
							"path": [
								"dstu2",
								"0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca",
								"AllergyIntolerance",
								"{{allergyId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Appointment (DSTU2)",
			"item": [
				{
					"name": "1. Appt - Find available slot",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Accept",
								"value": "application/json+fhir"
							}
						],
						"url": {
							"raw": "https://fhir-ehr.sandboxcerner.com/dstu2/0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca/Slot?schedule.actor=Practitioner/4980007&start={{appointmentDate}}&slot-type=http://snomed.info/sct|394581000&-location=4048128&_format=json",
							"protocol": "https",
							"host": [
								"fhir-ehr",
								"sandboxcerner",
								"com"
							],
							"path": [
								"dstu2",
								"0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca",
								"Slot"
							],
							"query": [
								{
									"key": "schedule.actor",
									"value": "Practitioner/4980007"
								},
								{
									"key": "start",
									"value": "{{appointmentDate}}"
								},
								{
									"key": "slot-type",
									"value": "http://snomed.info/sct|394581000"
								},
								{
									"key": "-location",
									"value": "4048128"
								},
								{
									"key": "_format",
									"value": "json"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "2. Appt - Create appointment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Accept",
								"value": "application/json+fhir"
							},
							{
								"key": "Content-Type",
								"value": "application/json+fhir"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"resourceType\": \"Appointment\",\n  \"slot\": {\n    \"reference\": \"Slot/{{slotId}}\"\n  },\n  \"participant\": [\n    {\n      \"actor\": {\n        \"reference\": \"Patient/{{patientId}}\"\n      },\n      \"status\": \"needs-action\"\n    }\n  ],\n  \"status\": \"proposed\"\n}"
						},
						"url": {
							"raw": "https://fhir-ehr.sandboxcerner.com/dstu2/0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca/Appointment",
							"protocol": "https",
							"host": [
								"fhir-ehr",
								"sandboxcerner",
								"com"
							],
							"path": [
								"dstu2",
								"0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca",
								"Appointment"
							]
						}
					},
					"response": []
				},
				{
					"name": "3. Appt - Retrieve appointment",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Accept",
								"value": "application/json+fhir"
							}
						],
						"url": {
							"raw": "https://fhir-ehr.sandboxcerner.com/dstu2/0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca/Appointment/{{appointmentId}}",
							"protocol": "https",
							"host": [
								"fhir-ehr",
								"sandboxcerner",
								"com"
							],
							"path": [
								"dstu2",
								"0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca",
								"Appointment",
								"{{appointmentId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "4. Appt - Cancel appointment",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Accept",
								"value": "application/json+fhir"
							},
							{
								"key": "Content-Type",
								"value": "application/json+fhir"
							},
							{
								"key": "If-Match",
								"value": "W/\"0\""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"resourceType\": \"Appointment\",\n\t...\n}"
						},
						"url": {
							"raw": "https://fhir-ehr.sandboxcerner.com/dstu2/0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca/Appointment/{{appointmentId}}",
							"protocol": "https",
							"host": [
								"fhir-ehr",
								"sandboxcerner",
								"com"
							],
							"path": [
								"dstu2",
								"0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca",
								"Appointment",
								"{{appointmentId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "DocumentReference (DSTU2)",
			"item": [
				{
					"name": "1. DocumentReference - Create a document",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Accept",
								"value": "application/json+fhir"
							},
							{
								"key": "Content-Type",
								"value": "application/json+fhir"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"resourceType\": \"DocumentReference\",\n  \"subject\": {\n    \"reference\": \"Patient/{{patientId}}\"\n  },\n  \"type\": {\n    \"coding\": [\n      {\n        \"system\": \"http://loinc.org\",\n        \"code\": \"34840-9\"\n      }\n    ]\n  },\n  \"author\": [\n    {\n      \"reference\": \"Practitioner/4980007\"\n    }\n  ],\n  \"indexed\": \"2015-11-18T18:00:00Z\",\n  \"status\": \"current\",\n  \"docStatus\": {\n    \"coding\": [\n      {\n        \"system\": \"http://hl7.org/fhir/composition-status\",\n        \"code\": \"final\"\n      }\n    ]\n  },\n  \"description\": \"CLL Note\",\n  \"content\": [\n    {\n      \"attachment\": {\n        \"contentType\": \"application/xhtml+xml;charset=utf-8\",\n        \"data\": \"< Document Content Here >\"\n      }\n    }\n  ],\n  \"context\": {\n    \"encounter\": {\n      \"reference\": \"Encounter/{{encounterId}}\"\n    },\n    \"period\": {\n      \"end\": \"2015-08-20T09:10:14Z\"\n    }\n  }\n}"
						},
						"url": {
							"raw": "https://fhir-ehr.sandboxcerner.com/dstu2/0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca/DocumentReference",
							"protocol": "https",
							"host": [
								"fhir-ehr",
								"sandboxcerner",
								"com"
							],
							"path": [
								"dstu2",
								"0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca",
								"DocumentReference"
							]
						}
					},
					"response": []
				},
				{
					"name": "2. DocumentReference - Get the document back",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Accept",
								"value": "application/json+fhir"
							}
						],
						"url": {
							"raw": "https://fhir-ehr.sandboxcerner.com/dstu2/0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca/DocumentReference/<Document Reference Id>",
							"protocol": "https",
							"host": [
								"fhir-ehr",
								"sandboxcerner",
								"com"
							],
							"path": [
								"dstu2",
								"0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca",
								"DocumentReference",
								"<Document Reference Id>"
							]
						}
					},
					"response": []
				},
				{
					"name": "3. DocumentReference - Get the Binary",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Accept",
								"value": "application/json+fhir"
							}
						],
						"url": {
							"raw": "https://fhir-ehr.sandboxcerner.com/dstu2/0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca/Binary/{{binaryId}}",
							"protocol": "https",
							"host": [
								"fhir-ehr",
								"sandboxcerner",
								"com"
							],
							"path": [
								"dstu2",
								"0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca",
								"Binary",
								"{{binaryId}}"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "ff8a599d-d06a-48e8-a0fc-99bc9d557fdd",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "9f4506c8-ff84-4bd0-b27d-59028c466655",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "698272d1-187d-4b43-a6fe-4d07ca1c8fda",
			"key": "token",
			"value": "Bearer <token>",
			"type": "string"
		},
		{
			"id": "07e11779-74bd-4632-ad13-f58824098306",
			"key": "patientFirstName",
			"value": "",
			"type": "string"
		},
		{
			"id": "7a000c37-5f2a-4a60-96ad-31b537385e3a",
			"key": "patientId",
			"value": "",
			"type": "string"
		},
		{
			"id": "b0587d05-c34e-4e5c-8012-035adae18e70",
			"key": "patientVersion",
			"value": "",
			"type": "string"
		},
		{
			"id": "ec2c1121-c961-4e1d-8377-d8f5a843d9de",
			"key": "patientAddressId",
			"value": "",
			"type": "string"
		},
		{
			"id": "29ec0e36-7dd3-48f9-be86-067f1a5c8396",
			"key": "newPatientMRN",
			"value": "",
			"type": "string"
		},
		{
			"id": "88444918-c732-40af-8d5e-d968cf14a466",
			"key": "encounterId",
			"value": "",
			"type": "string"
		},
		{
			"id": "6a946ea7-c9b6-4e4c-b9d5-731323d60a24",
			"key": "allergyId",
			"value": "",
			"type": "string"
		},
		{
			"id": "8799d9b0-a4bc-4cff-9acc-cf8b9a2682a6",
			"key": "slotId",
			"value": "",
			"type": "string"
		},
		{
			"id": "2e4988bc-5ccc-424d-a3fa-1a37f896ddf5",
			"key": "appointmentDate",
			"value": "",
			"type": "string"
		},
		{
			"id": "82405013-4cf4-49fe-ad0b-9a3c8e803163",
			"key": "appointmentId",
			"value": "",
			"type": "string"
		},
		{
			"id": "f4c3e6b7-882a-464a-80f5-84541ae1c672",
			"key": "documentId",
			"value": "",
			"type": "string"
		},
		{
			"id": "d7767010-f3f9-4d38-b100-13d2c52385d0",
			"key": "binaryId",
			"value": "",
			"type": "string"
		}
	]
}